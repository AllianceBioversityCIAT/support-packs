<div class="overview">
    <div class="title">
        <h1>Overview</h1>
    </div>
    <div class="overviewBody">
        <p-table #dt2 [value]="sales" [tableStyle]="{'min-width': '50rem'}" [loading]="loading"  [globalFilterFields]="['name','cate_name']">
            <ng-template pTemplate="caption" >
                <div class="flex">
                    
                    <span class="p-input-icon-left ml-auto">
                        <i class="pi pi-search"></i>
                        <input pInputText type="text" (input)="dt2.filterGlobal($any($event.target).value, 'contains')" 
                        placeholder="Search Tool" />
                    </span>
                </div>
                
            </ng-template>
            <ng-template pTemplate="header">
                <tr>
                    <th colspan="3" style="border: 1px solid black; border-width: 0 1px 0 1px;">Tools</th>
                    <th colspan="3" style="border: 1px solid black; border-width: 0 0px 0 0px;">Proposal Stage</th>
                    <th colspan="3" style="border: 1px solid black; border-width: 0 1px 0 1px;">Grant Opening</th>
                    <th colspan="3" style="border: 1px solid black; border-width: 0 1px 0 0px;">Project Research</th>
                    <th colspan="3" style="border: 1px solid black; border-width: 0 1px 0 0px;">Publishing</th>
                    <th colspan="3" style="border: 1px solid black; border-width: 0 1px 0 0px;">Grant Close out</th>
                </tr>
                <tr>
                    <th style="border: 1px solid black; border-width: 0 0px 0 1px;">ID</th>
                    <th>Name</th>
                    <th style="border: 1px solid black; border-width: 0 1px 0 0px;">Category</th>
                    <th>PI</th>
                    <th>DM</th>
                    <th style="border: 1px solid black; border-width: 0 1px 0 0px;">R</th>
                    <th>PI</th>
                    <th>DM</th>
                    <th style="border: 1px solid black; border-width: 0 1px 0 0px;">R</th>
                    <th>PI</th>
                    <th>DM</th>
                    <th style="border: 1px solid black; border-width: 0 1px 0 0px;">R</th>
                    <th>PI</th>
                    <th>DM</th>
                    <th style="border: 1px solid black; border-width: 0 1px 0 0px;">R</th>
                    <th>PI</th>
                    <th>DM</th>
                    <th style="border: 1px solid black; border-width: 0 1px 0 0px;">R</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-sale let-cc>
                <tr>
                    <td>{{sale.id}}</td>
                    <td>{{sale.name}}</td>
                    <td>{{sale.cate_name}}</td>
                    <td class="{{getImportants('PI', 'Proposal Stage', sale.resources, sale.id).styleColor}}">{{getImportants('PI', 'Proposal Stage', sale.resources, sale.id).important}}</td>
                    <td  class="{{getImportants('DM', 'Proposal Stage', sale.resources, sale.id).styleColor}}">{{getImportants('DM', 'Proposal Stage', sale.resources, sale.id).important }}</td>
                    <td class="{{getImportants('R', 'Proposal Stage', sale.resources, sale.id).styleColor}}">{{getImportants('R', 'Proposal Stage', sale.resources, sale.id).important }}</td>
                    <td  class="{{getImportants('PI', 'Grant Opening', sale.resources, sale.id).styleColor}}">{{getImportants('PI', "Grant Opening", sale.resources, sale.id).important }}</td>
                    <td class="{{getImportants('DM', 'Grant Opening', sale.resources, sale.id).styleColor}}">{{getImportants('DM', "Grant Opening", sale.resources, sale.id).important }}</td>
                    <td class="{{getImportants('R', 'Grant Opening', sale.resources, sale.id).styleColor}}">{{getImportants('R', "Grant Opening", sale.resources, sale.id).important }}</td>
                    <td  class="{{getImportants('PI', 'Project Research', sale.resources, sale.id).styleColor}}">{{getImportants('PI', "Project Research", sale.resources, sale.id).important }}</td>
                    <td class="{{getImportants('DM', 'Project Research', sale.resources, sale.id).styleColor}}">{{getImportants('DM', "Project Research", sale.resources, sale.id).important }}</td>
                    <td class="{{getImportants('R', 'Project Research', sale.resources, sale.id).styleColor}}">{{getImportants('R', "Project Research", sale.resources, sale.id).important }}</td>
                    <td  class="{{getImportants('PI', 'Publishing', sale.resources, sale.id).styleColor}}">{{getImportants('PI', "Publishing", sale.resources, sale.id).important }}</td>
                    <td class="{{getImportants('DM', 'Publishing', sale.resources, sale.id).styleColor}}">{{getImportants('DM', "Publishing", sale.resources, sale.id).important }}</td>
                    <td class="{{getImportants('R', 'Publishing', sale.resources, sale.id).styleColor}}">{{getImportants('R', "Publishing", sale.resources, sale.id).important }}</td>
                    <td  class="{{getImportants('PI', 'Grant Close out', sale.resources, sale.id).styleColor}}">{{getImportants('PI', "Grant Close out", sale.resources, sale.id).important }}</td>
                    <td class="{{getImportants('DM', 'Grant Close out', sale.resources, sale.id).styleColor}}">{{getImportants('DM', "Grant Close out", sale.resources, sale.id).important }}</td>
                    <td class="{{getImportants('R', 'Grant Close out', sale.resources, sale.id).styleColor}}">{{getImportants('R', "Grant Close out", sale.resources, sale.id).important }}</td>
                    
                </tr>
            </ng-template>
            
        </p-table>
    </div>
</div>