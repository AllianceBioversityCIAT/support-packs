<div class="overview">
  <h1 class="overview__title">M&E Guidelines</h1>

  <p-table
    #dt2
    [loading]="loading"
    styleClass="p-datatable-sm overview__table p-datatable-gridlines"
    [value]="overviewTools"
    [tableStyle]="{ 'min-width': '50rem' }"
    [globalFilterFields]="['id', 'name', 'cate_name']">
    <ng-template pTemplate="caption">
      <div class="flex">
        <span class="p-input-icon-left ml-auto">
          <i class="pi pi-search"></i>
          <input
            pInputText
            type="text"
            (input)="dt2.filterGlobal($any($event.target).value, 'contains')"
            placeholder="Search Tool" />
        </span>
      </div>
    </ng-template>

    <ng-template pTemplate="header">
      <tr>
        <th colspan="2" id="empty__space"></th>
        <th colspan="3" id="Designing">Designing</th>
        <th colspan="3" id="Implementation">Implementation</th>
        <th colspan="3" id="Closure_&_Beyond">Closure & Beyond</th>
      </tr>

      <tr>
        <th id="id">ID</th>
        <th id="Name">Name</th>
        <th id="PM">PM</th>
        <th id="PJM">PJM</th>
        <th id="M&EO">M&EO</th>
        <th id="PM">PM</th>
        <th id="PJM">PJM</th>
        <th id="M&EO">M&EO</th>
        <th id="PM">PM</th>
        <th id="PJM">PJM</th>
        <th id="RM&EO">RM&EO</th>
      </tr>
    </ng-template>

    <ng-template pTemplate="body" let-item>
      <tr>
        <td>{{ item.id }}</td>
        <td>
          <div class="overview__table__item">
            <div class="overview__table__item--name">
              <i [class]="getIconByType(item.type)"></i>
              {{ item.name }}
            </div>

            <a
              *ngIf="item.source"
              [href]="item.source"
              target="_blank"
              rel="noopener noreferrer"
              class="overview__table__item--link">
              <i [class]="getIconByTypeDownload(item.type)" style="font-size: 18px"></i>
            </a>
          </div>
        </td>

        <td *ngFor="let resource of item.resources" [class]="getImportants(resource).styleColor">
          {{ getImportants(resource).importanceLevel }}
        </td>
      </tr>
    </ng-template>

    <ng-template pTemplate="emptymessage">
      <tr>
        <td colspan="12">No data found.</td>
      </tr>
    </ng-template>
  </p-table>
</div>
