<div class="form-data">
    <div class="form-title">
        <h1>
            AICCRA Tools Support Pack
        </h1>
    </div>

    <div class="info-form">
        <div class="messages-info-form">
            <div class="line">
                <i class="pi pi-info-circle icon"></i>
            </div>
                
            <p style="margin-top: -30px;">
                Please fill in the fields below to submit a tool for consideration. The tool should be designed 
                to help those in the fields of climate change and agriculture development to design, target, 
                implement, monitor, evaluate and/or scale activities and programmes. If we need more 
                information regarding your submission we will contact you. Submitted tools will be
                 evaluated for inclusion based on relevance and previous documentation.
            </p>
        </div>
    </div>

    <div class="citeria-form" *ngIf="dialogConfirmation == false">
        <div class="title-criteria">
            <h3>Before submitting your tool</h3>
        </div>
        <div class="content">
            <h4>Please confirm that it complies with the following criteria:</h4>

            <ul>
                <li>The tool is fully completed and operational (not demo)</li>
                <li>The tool has been applied and its use has been documented</li>
                <li>Use cases and additional resources e.g manuals; guidelines; peer-reviewed papers are publicly available</li>
                <li>There is a Key reference person able to provide technical support/guidance</li>
            </ul>

            <div class="confirm-criteria">
                <button pButton type="button" label="Access to related resources" (click)="dialogConfirmation = true"></button>
            </div>
        </div>
    </div>
    <div class="content-form" *ngIf="step1 == true && dialogConfirmation == true">
        <div class="who-request">
            <div class="title-sub">
                <h3>Who is requests?</h3>
            </div>
            <div class="content-form-who content-form-g">
                <div class="flex flex-column gap-2 inputs">
                    <label htmlFor="name" class="bold">Full Name</label>
                    <input pInputText id="username" aria-describedby="username-help"  />
                   
                </div>
                <div class="flex flex-column gap-2 inputs">
                    <label htmlFor="email" class="bold">Email</label>
                    <input pInputText id="username" aria-describedby="username-help"  [(ngModel)] ="requestToolNew.email"/>
                   
                </div>
            </div>
        </div>

        <div class="basic-info">
            <div class="title-sub">
                <h3>Basic Information</h3>
            </div>
            <div class="content-form-basic content-form-g">
                <div class="flex flex-column gap-2 inputs inputs-basic">
                    <label htmlFor="name" class="bold">Tool name</label>
                    <input pInputText id="username" aria-describedby="username-help"  [(ngModel)] ="requestToolNew.name"/>
                   
                </div>
                <div class="flex flex-column gap-2 inputs inputs-basic">
                    <label htmlFor="email" class="bold">Description</label>
                    <textarea rows="5"  pInputTextarea [(ngModel)] ="requestToolNew.description"></textarea>
                   
                </div>

                <div class="two-content">
                    <div class="flex flex-column gap-2 inputs input-two ">
                        <label htmlFor="name" class="bold">Link</label>
                        <input pInputText id="username" aria-describedby="username-help"  [(ngModel)] ="requestToolNew.source"/>
                    
                    </div>
                    <div class="flex flex-column gap-2 inputs input-two">
                        <label htmlFor="email" class="bold">Estimated time to implement (excl. training)</label>
                        <input pInputText id="username" aria-describedby="username-help"  [(ngModel)] ="requestToolNew.estimated_time"/>
                    
                    </div>
                </div>
                <div class="two-content">
                    <div style="width: 50%;">
                        <div><label htmlFor="ask" class="bold">Does the tool integrate gender?</label></div>
                        <div class="flex flex-wrap gap-3">
                            <div class="flex align-items-center">
                                <p-radioButton name="Yes" value="Yes" [(ngModel)] ="requestToolNew.integrates_gender"  inputId="Yes"></p-radioButton>
                                <label for="ingredient1" class="ml-2">Yes</label>
                            </div>
                            
                            <div class="flex align-items-center">
                                <p-radioButton name="No" value="No"  [(ngModel)] ="requestToolNew.integrates_gender"inputId="No"></p-radioButton>
                                <label for="ingredient2" class="ml-2">No</label>
                            </div>
                        </div>
                    </div>
                    <div style="width: 50%;">
                        <div><label htmlFor="ask" class="bold">Can this tool be tested online?</label></div>
                        <div class="flex flex-wrap gap-3">
                            <div class="flex align-items-center">
                                <p-radioButton name="Yess" value="Yes" [(ngModel)] ="requestToolNew.is_tested_online"  inputId="Yess"></p-radioButton>
                                <label for="ingredient3" class="ml-2">Yes</label>
                            </div>
                            
                            <div class="flex align-items-center">
                                <p-radioButton name="Noo" value="No"  [(ngModel)] ="requestToolNew.is_tested_online" inputId="Noo"></p-radioButton>
                                <label for="ingredient4" class="ml-2">No</label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="two-content">
                    <div class="flex flex-column gap-2 inputs input-two ">
                        <label htmlFor="name" class="bold">Target Scale</label>
                        <textarea rows="5"  pInputTextarea [(ngModel)] ="requestToolNew.target_scale"></textarea>
                    
                    </div>
                    <div class="flex flex-column gap-2 inputs input-two">
                        <label htmlFor="email" class="bold">Who participates?</label>
                        <textarea rows="5"  pInputTextarea [(ngModel)] ="requestToolNew.participants"></textarea>
                    
                    </div>
                </div>
                <div class="two-content">
                    <div class="flex flex-column gap-2 inputs input-two ">
                        <label htmlFor="name" class="bold">Methods used</label>
                        <textarea rows="5"  pInputTextarea [(ngModel)] ="requestToolNew.methods"></textarea>
                    
                    </div>
                    <div class="flex flex-column gap-2 inputs input-two">
                        <label htmlFor="email" class="bold">Types of input data/information</label>
                        <textarea rows="5"  pInputTextarea [(ngModel)] ="requestToolNew.input_types"></textarea>
                    
                    </div>
                </div>
                <div class="flex flex-column gap-2 inputs inputs-basic">
                    <label htmlFor="name" class="bold">Limitations</label>
                    <textarea rows="5"  pInputTextarea [(ngModel)] ="requestToolNew.limitations"></textarea>
                   
                </div>
                <div class="flex flex-column gap-2 inputs inputs-basic">
                    <label htmlFor="name" class="bold">Strengths</label>
                    <textarea rows="5"  pInputTextarea [(ngModel)] ="requestToolNew.strengths"></textarea>
                   
                </div>
                <div class="two-content">
                    <div class="flex flex-column gap-2 inputs input-two ">
                        <label htmlFor="name" class="bold">Expected output(s)</label>
                        <textarea rows="5" cols="30" pInputTextarea [(ngModel)] ="requestToolNew.expected_outputs"></textarea>
                    
                    </div>
                    <div class="flex flex-column gap-2 inputs input-two">
                        <label htmlFor="email" class="bold">Required human resources</label>
                        <textarea rows="5" cols="30" pInputTextarea [(ngModel)] ="requestToolNew.human_resources"></textarea>
                    
                    </div>
                </div>
                <div class="two-content">
                    <div class="flex flex-column gap-2 inputs input-two ">
                        <label htmlFor="name" class="bold">Key reference person(s)</label>
                        <textarea rows="5" cols="30" pInputTextarea [(ngModel)] ="requestToolNew.key_references"></textarea>
                    
                    </div>
                    <div class="card flex justify-content-center inputs input-two">
                        <h4>Thematic area</h4>
                        <p-dropdown [options]="thematicAreas" [(ngModel)] ="selectCategory" 
                            [style]="{'width':'100%'}" [virtualScroll]="true" [virtualScrollItemSize]="38"
                                optionLabel="name" [filter]="true" filterBy="name"
                                    placeholder="Select a Thematic area" >
                            <ng-template pTemplate="selectedItem">
                                <div class="flex align-items-center gap-2" *ngIf="selectCategory" >
                                    <div>{{ selectCategory.name }}</div>
                                </div>
                            </ng-template>
                           
                        </p-dropdown>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="content-form" *ngIf="step2 && dialogConfirmation == true">
        <div class="user-perfil">
            <div class="title-sub-user">
                <h3>User Profile and Project Phase relevance</h3>
            </div>
            <div class="content-form-g">
                <div class="title-user-con">
                    <h4>Researcher</h4>
                </div>
                <div class="content-form-u">
                    <div class="desing-input-one">
                        <h4>Design</h4>
                        <p-dropdown [options]="optionsImportance" [(ngModel)]="selectRecharseDesing" 
                        optionLabel="name" [showClear]="true" [style]="{'width':'100%'}" placeholder="Select a Thematic area"></p-dropdown>
                        
                    </div>
                    <div class="desing-input-one">
                        <h4>Implementation</h4>
                        <p-dropdown [options]="optionsImportance" [(ngModel)]="selectRecharseImplementation" 
                        optionLabel="name" [showClear]="true" [style]="{'width':'100%'}" placeholder="Select a Thematic area"></p-dropdown>
                        
                    </div>
                    <div class="desing-input-one">
                        <h4>Monitoring and evaluations</h4>
                        <p-dropdown [options]="optionsImportance" [(ngModel)]="selectRecharseMonitoring" 
                        optionLabel="name" [showClear]="true" [style]="{'width':'100%'}" placeholder="Select a Thematic area"></p-dropdown>
                        
                    </div>
                </div>
            </div>
            <div class="content-form-user content-form-g">
                <div class="title-user-con">
                    <h4>Technical staff</h4>
                </div>
                <div class="content-form-u">
                    <div class="desing-input-one">
                        <h4>Design</h4>
                        <p-dropdown [options]="optionsImportance" [(ngModel)]="selecttsdesing" 
                        optionLabel="name" [showClear]="true" [style]="{'width':'100%'}" placeholder="Select a Thematic area"></p-dropdown>
                        
                    </div>
                    <div class="desing-input-one">
                        <h4>Implementation</h4>
                        <p-dropdown [options]="optionsImportance" [(ngModel)]="selecttsimplementation" 
                        optionLabel="name" [showClear]="true" [style]="{'width':'100%'}" placeholder="Select a Thematic area"></p-dropdown>
                        
                    </div>
                    <div class="desing-input-one">
                        <h4>Monitoring and evaluations</h4>
                        <p-dropdown [options]="optionsImportance" [(ngModel)]="selecttsmonitoring" 
                        optionLabel="name" [showClear]="true" [style]="{'width':'100%'}" placeholder="Select a Thematic area"></p-dropdown>
                        
                    </div>
                </div>
            </div>
            <div class="content-form-user content-form-g">
                <div class="title-user-con">
                    <h4>Academia</h4>
                </div>
                <div class="content-form-u">
                    <div class="desing-input-one">
                        <h4>Design</h4>
                        <p-dropdown [options]="optionsImportance" [(ngModel)]="selectacaidesing" 
                        optionLabel="name" [showClear]="true" [style]="{'width':'100%'}" placeholder="Select a Thematic area"></p-dropdown>
                        
                    </div>
                    <div class="desing-input-one">
                        <h4>Implementation</h4>
                        <p-dropdown [options]="optionsImportance" [(ngModel)]="selectacaiimplementation" 
                        optionLabel="name" [showClear]="true" [style]="{'width':'100%'}" placeholder="Select a Thematic area"></p-dropdown>
                        
                    </div>
                    <div class="desing-input-one">
                        <h4>Monitoring and evaluations</h4>
                        <p-dropdown [options]="optionsImportance" [(ngModel)]="selectacaimonitoring" 
                        optionLabel="name" [showClear]="true" [style]="{'width':'100%'}" placeholder="Select a Thematic area"></p-dropdown>
                        
                    </div>
                </div>
            </div>
        </div>

        <div class="basic-info" >
            <div class="title-sub">
                <h3>Resources</h3>
            </div>
            <div class="content-form-user content-form-g" *ngFor="let item of requestToolNew.resource">
                
                    <div class="flex flex-column gap-2 inputs inputs-basic">
                        <label htmlFor="name" class="bold">Resource title</label>
                        <input pInputText id="username" aria-describedby="username-help"  [(ngModel)]="item.name"/>
                       
                    </div>
                    <div class="two-content">
                        <div class="flex flex-column gap-2 inputs input-two ">
                            <label htmlFor="name" class="bold">Link</label>
                            <input pInputText id="username" aria-describedby="username-help"  [(ngModel)]="item.source"/>
                        
                        </div>
                        <div class="card flex justify-content-center inputs input-two">
                            <h4>Category</h4>
                            <p-dropdown [options]="categories" [(ngModel)]="item.type" 
                                [style]="{'width':'100%'}" [virtualScroll]="true" [virtualScrollItemSize]="38"
                                    optionLabel="name" [filter]="true" filterBy="name"
                                        placeholder="Select a Thematic area" >
                                <ng-template pTemplate="selectedItem">
                                    <div class="flex align-items-center gap-2" *ngIf="item.type" >
                                        <div>{{ item.type.name }}</div>
                                    </div>
                                </ng-template>
                               
                            </p-dropdown>
                        </div>
                    
                </div>
            </div>
            <div >
                <button pButton label="Other Resource" (click)="aditionalResource()" rounded="true" style="background-color: #1f46f2; border-radius: 30px; margin-top: 10px;" [disabled]="requestToolNew.resource.length >= 3"></button>
            </div>
        </div>
    </div>

    <div class="steps" *ngIf="dialogConfirmation == true">
        <div class="step-1">
            <button pButton label="1" rounded="true" style="background-color: #F2971F; border-radius: 30px;" *ngIf="step1 == true"></button>
            <button pButton label="1" rounded="true" style="background-color: #ffebd2; border-radius: 30px; color: black;" *ngIf="step1 == false" (click)="step2 = false ; step1 = true"></button>
        </div>
        <div class="step-2">
            <button pButton label="2" rounded="true" style="background-color: #ffebd2; border-radius: 30px; color: black;" *ngIf="step2 == false" (click)="step2 = true ; step1 = false"></button>
            <button pButton label="2" rounded="true" style="background-color: #F2971F; border-radius: 30px;" *ngIf="step2 == true" (click)="step2 = true ; step1 = false"></button>
        </div>
    </div>

    <div *ngIf="step2" style="display: flex; align-items: center; justify-content: center;">
        <button pButton type="button" label="Submit" style="background-color: #F2971F; border-radius: 30px; width: 50%; margin: 20px;" (click)=" postRequestTool()"></button>
    </div>
</div>


<p-dialog  [(visible)]="loadingSave" [modal]="true"  [style]="{ width: '10vw' }" [draggable]="false" [closable]="false"
[resizable]="false">
<div
style="
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
"
>
<img
  src="../../../../assets/loading.gif"
  style="width: 50px; height: 50px"
/>
</div>
</p-dialog>